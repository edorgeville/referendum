<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Urbania : Referendum !</title>
    <link rel="stylesheet" href="">
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
</head>
<body>
    <p>
        Envoyez OUI ou NON au num√©ro suivant : <span id="number">undefined</span>
    </p>
    <p id="votes">
        
    </p>
    <p>
        Voters numbers : 
        <ul id="numbers">
            
        </ul>
    </p>

    <script>
        var socket = io.connect(window.location.origin);

        socket.on('votes', function(votes){
            console.log(votes);
            $('#votes').html("OUI " + votes.yes + " vs " + votes.no + " NON");
        });

        socket.on('number', function(number){
            $('#number').html(number);
        });

        socket.on('numbers', function(numbers){
            var html = "";
            $.each(numbers, function(i, number){
                html += "<li>" + number + "</li>";
            });
            $('#numbers').html(html);
        })
    </script>
</body>
</html>